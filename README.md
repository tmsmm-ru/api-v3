# Документация к TmSMM API для работы с услугами

Получить PHP Class для работы с API можно по ссылке: https://github.com/tmsmm-ru/api-v3/blob/main/TmSMMApiV3.php


## #Получение баланса аккаунта

### Пример запроса

```php
    <?php

    $token = '';

    $oTmSMM = new TmSMMApiV3($token);

    $oTmSMM->getProfile();
```

### Пример ответа

```
Array
(
    [response] => Array
        (
            [success] => Array
                (
                    [code] => 1
                    [data] => Array
                        (
                            [email] => name@email.com
                            [balance] => Array
                                (
                                    [amount] => 12398.61
                                    [currency] => RUB
                                )

                        )

                )

        )

)
```

## #Получение списка услуг

### Пример запроса

```php
    <?php

    $token = '';

    $oTmSMM = new TmSMMApiV3($token);

    $oTmSMM->getServices();
```

### Пример ответа

```
Array
(
    [response] => Array
        (
            [success] => Array
                (
                    [code] => 1
                    [data] => Array
                        (
                            [0] => Array
                                (
                                    [id] => 3 // id сервиса
                                    [name] => Instagram - Подписчики (весь мир) (качественные) (гарантия 30 дней) // название услуги
                                    [category] => Instagram - Подписчики // категория услуги
                                    [is_user_selection] => 0 // услуга рекомендуется сайтом
                                    [is_fast_start] => 0 // услуга имеет мгновенный старт
                                    [is_fast_speed] => 1 // услуга имеет быструю скорость выполнения
                                    [is_quality] => 0 // услуга имеет высокое качество исполнения
                                    [price] => 0.39 // цена за 1 шт. в рублях
                                    [min_order] => 10 // минимальное количество для заказа
                                    [max_order] => 100000 // максимальное количество для заказа
                                    [multiplicity_order] => 1 // количество для заказа должно быть кратным
                                    [is_sel_country] => 0 // услуга поддерживает выбор страны аккаунтов
                                    [is_sel_sex] => 0 // услуга поддерживает выбор пола аккаунтов
                                    [is_comments] => 0 // услуга на собственные комментарии
                                    [is_answer_number] => 0 // услуга на опрос
                                    [is_pause] => 0 // услуга поддерживает паузу заказа
                                    [is_cancel] => 0 // услуга поддерживает отмену заказа
                                    [is_refill] => 0 // услуга поддерживает refill заказа
                                )

                        )

                )

        )

)

```

## #Создание заказа

### Пример запроса

```php
    <?php

    $token = '';

    $oTmSMM = new TmSMMApiV3($token);

    $comments = [
        'Фраза один',
        'Фраза два',
        'Фраза три'
    ];

    oTmSMM->createOrder([
        'service_id'   => 1, // id сервиса
        'url'          => 'https://www.instagram.com/username', // ссылка на объект
        'count'        => 5, // количество выполнений
        // 'answerNumber' => '3', // если услуга на опрос, то необходимо передать "номер варианта ответа" в ином случае, поле не передавать
        // 'comments'     => implode(PHP_EOL, $comments), // если услуга на собственные комментарии, то необходимо передать "список фраз" в ином случае, поле не передавать
        // 'country'      => 0, // если услуга поддерживает выбор страны аккаунтов, то передать id страны, список стран представлен чуть ниже
        // 'sex'          => 0, // // если услуга поддерживает выбор пола аккаунтов, то передать значение: 0 - любой, 1 - женский или 2 - мужской 
    ]);
```

### Пример ответа

```
Array
(
    [response] => Array
        (
            [success] => Array
                (
                    [code] => 1
                    [data] => Array
                        (
                            [id] => 65a14353965b7
                        )

                )

        )

)
```

### Список стран
```
0 - любая
1001 - Россия + СНГ
1 - Россия
3 - Беларусь
4 - Казахстан
5 - Азербайджан
6 - Армения
7 - Грузия
11 - Кыргызстан
16 - Таджикистан
17 - Туркмения
18 - Узбекистан
```

## #Получение информации о заказе

### Пример запроса

```php
    <?php

    $token = '';

    $oTmSMM = new TmSMMApiV3($token);

    $oTmSMM->statusOrder('65a14353965b7'); // передавать id заказа
```

### Пример ответа

```
Array
(
    [response] => Array
        (
            [success] => Array
                (
                    [code] => 1
                    [data] => Array
                        (
                            [uniqid] => 63b5732389465 // id заказа
                            [service_id] => 276 // id сервиса
                            [url] => https://t.me/username/212 // ссылка на объект
                            [count] => 1000 // заказанное количество выполнений
                            [count_start] => 12 // количество на момент активации заказа
                            [count_done] => 1000 // текущее количество выполнений
                            [last_time_run] => 2023-01-04 15:54:11 // время последнего выполнения
                            [pause] => 0  // пауза заказа: 0 - нет паузы, 1 - да (до "pause_at"), 2 - обрабатывается пауза и 3 - обрабатывается снятие паузы
                            [pause_at] => // время автоматического окончания паузы
                            [cancel] => 0 // отмена заказа: 0, 5 - нет отмены, 1, 2, 3, 4 - обрабатывается отмена
                            [refill] => 0 // refill заказа: 0 - нет refill, 1 - обрабатывается запрос
                            [refill_at] => // последний запрос refill
                            [price] => 99.00 // цена заказа
                            [status] => 2 // статус заказа
                            [error_message] => // текст ошибки, если статус "ошибка" или "заблокирован"
                        )

                )

        )

)
```

### Статус заказа
```
0 - обрабатывается
1 - отмена или ошибка
2 - выполнен
3 - выполняется
4 - отмена
5 - в очереди
8 - не оплачен
9 - на модерации
10 - заблокирован
```

## #Поставить заказ на паузу

### Пример запроса

```php
    <?php

    $token = '';

    $oTmSMM = new TmSMMApiV3($token);

    $oTmSMM->pauseOrder('65a14353965b7'); // передавать id заказа
```

### Пример ответа

```
Array
(
    [response] => Array
        (
            [success] => Array
                (
                    [code] => 1
                    [data] => Array
                        (
                        )

                )

        )

)
```

## #Отменить заказ

### Пример запроса

```php
    <?php

    $token = '';

    $oTmSMM = new TmSMMApiV3($token);

    $oTmSMM->cancelOrder('65a14353965b7'); // передавать id заказа
```

### Пример ответа

```
Array
(
    [response] => Array
        (
            [success] => Array
                (
                    [code] => 1
                    [data] => Array
                        (
                        )

                )

        )

)
```

## #Refill заказа

### Пример запроса

```php
    <?php

    $token = '';

    $oTmSMM = new TmSMMApiV3($token);

    $oTmSMM->refillOrder('65a14353965b7'); // передавать id заказа
```

### Пример ответа

```
Array
(
    [response] => Array
        (
            [success] => Array
                (
                    [code] => 1
                    [data] => Array
                        (
                        )

                )

        )

)
```

